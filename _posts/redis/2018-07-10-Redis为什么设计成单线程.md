---
layout: post
title: "Redis为什么设计成单线程"
date: 2018-07-10 22:18:47
description: "Redis为什么设计成单线程"
categories:
- Redis
permalink: Redis为什么设计成单线程
---

##### Redis为什么是单线程
> Redis单线程指的是网络请求模块使用了一个线程，即一个线程处理所有网络请求，其他模块仍用了多个线程  

> CPU并不是Redis的瓶颈，一般有可能的是`机器内存大小，关系到Redis存储的数据量`或`网络带宽`

##### Redis为什么这么快
* 完全基于内存，绝大部分请求是纯粹的内存操作，非常快速。数据存在内存中，类似于HashMap，HashMap的优势就是查找和操作的时间复杂度都是O(1)；
　
* 采用单线程，避免了不必要的上下文切换和竞争条件，也不存在多进程或者多线程导致的切换而消耗CPU，不用去考虑各种锁的问题，不存在加锁释放锁操作，没有因为可能出现死锁而导致的性能消耗；

* 使用多路I/O复用模型，非阻塞IO；

* 数据结构简单，对数据操作也简单，Redis中的数据结构是专门进行设计的；

* 使用底层模型不同，它们之间底层实现方式以及与客户端之间通信的应用协议不一样，Redis直接自己构建了VM 机制 ，因为一般的系统调用系统函数的话，会浪费一定的时间去移动和请求；
